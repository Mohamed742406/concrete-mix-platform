<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concrete Mix Design - ACI 211.1</title>
    <style>
        :root {
            --primary: #1a6e7f;
            --primary-light: #32b8c6;
            --bg: #f5f5f1;
            --surface: #ffffff;
            --text: #1f2121;
            --text-secondary: #627d85;
            --border: #d4d4d4;
            --success: #2d8a8e;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        header p {
            opacity: 0.9;
            font-size: 0.95em;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--surface);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid var(--border);
        }

        .card h2 {
            color: var(--primary);
            font-size: 1.3em;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-light);
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 18px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.95em;
            color: var(--text);
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 0.95em;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 110, 127, 0.1);
        }

        .input-hint {
            font-size: 0.85em;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 25px;
        }

        button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(26, 110, 127, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: #e8e8e8;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .result-box {
            background: linear-gradient(135deg, rgba(45, 138, 142, 0.05) 0%, rgba(50, 184, 198, 0.05) 100%);
            border: 2px solid var(--primary-light);
            border-radius: 8px;
            padding: 18px;
            text-align: center;
        }

        .result-label {
            font-size: 0.9em;
            color: var(--text-secondary);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-value {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .result-unit {
            font-size: 0.85em;
            color: var(--text-secondary);
        }

        .table-section {
            margin-top: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th {
            background: var(--primary);
            color: white;
            padding: 12px;
            text-align: right;
            font-weight: 600;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid var(--border);
            text-align: right;
        }

        tr:hover {
            background: rgba(26, 110, 127, 0.02);
        }

        .summary-card {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            grid-column: 1 / -1;
            margin-top: 20px;
        }

        .summary-card h3 {
            margin-bottom: 20px;
            font-size: 1.2em;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            padding-bottom: 10px;
        }

        .summary-item {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 12px;
        }

        .summary-value {
            text-align: left;
            font-size: 0.95em;
        }

        .summary-value strong {
            display: block;
            font-size: 1.3em;
            margin-top: 5px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .tab {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-secondary);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab:hover {
            color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            color: #856404;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }

        .info {
            background: #e7f3ff;
            border: 1px solid #0099ff;
            color: #004085;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }

        .success {
            background: #d4edda;
            border: 1px solid #28a745;
            color: #155724;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
        }

        .print-btn {
            background: #6c757d;
        }

        .print-btn:hover {
            background: #5a6268;
        }

        @media print {
            header, .button-group, .tabs {
                display: none;
            }
            .card {
                page-break-inside: avoid;
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ—ï¸ Ù…Ù†ØµØ© ØªØµÙ…ÙŠÙ… Ø§Ù„Ø®Ù„Ø·Ø§Øª Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠØ©</h1>
            <p>Concrete Mix Design Platform - ACI 211.1 & BS EN 206</p>
            <p style="font-size: 0.85em; margin-top: 10px; opacity: 0.85;">âœ¨ ØªÙ… ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ù†ØµØ© Ø¨ÙˆØ§Ø³Ø·Ø© <strong>Ù…Ø­Ù…Ø¯ Ø§Ù„Ù‚ØµØ¨ÙŠ</strong></p>
        </header>

        <div style="margin-bottom: 20px;">
            <div style="background: var(--primary); color: white; padding: 15px 20px; border-radius: 8px; margin-bottom: 20px; font-weight: 600; font-size: 1.05em; display: flex; gap: 10px; align-items: center;">
                <span style="margin-right: 15px;">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¹ÙŠØ§Ø±:</span>
                <span id="aciBtn" onclick="switchMethod('aci')" style="cursor: pointer; padding: 10px 20px; background: var(--primary-light); border-radius: 6px; flex: 1; text-align: center; transition: all 0.3s;">ACI 211.1</span>
                <span id="bsBtn" onclick="switchMethod('bs')" style="cursor: pointer; padding: 10px 20px; background: rgba(255,255,255,0.2); border-radius: 6px; flex: 1; text-align: center; transition: all 0.3s;">BS EN 206</span>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab(event, 'input')">Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button class="tab" onclick="switchTab(event, 'calculation')">Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</button>
            <button class="tab" onclick="switchTab(event, 'results')">Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</button>
            <button class="tab" onclick="switchTab(event, 'references')">Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©</button>
        </div>

        <!-- INPUT TAB -->
        <div id="input" class="tab-content active">
            <div class="main-grid">
                <!-- Design Requirements -->
                <div class="card">
                    <h2>Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ…</h2>
                    
                    <div class="form-group">
                        <label>Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø§Ù†Ø¶ØºØ§Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (f'c) - MPa</label>
                        <input type="number" id="fc" value="25" min="15" max="50" step="1">
                        <div class="input-hint">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø¨Ø¹Ù…Ø± 28 ÙŠÙˆÙ…</div>
                    </div>

                    <div id="slumpTypeDiv" class="form-group">
                        <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ù†Ø´Ø£ (Ø§Ù„Ù‡Ø¨ÙˆØ·)</label>
                        <select id="slumpType">
                            <option value="slim">Ø£Ø³Ø§Ø³Ø§Øª Ù…Ø³Ù„Ø­Ø© / Ø¬Ø¯Ø±Ø§Ù† Ø«Ø§Ù†ÙˆÙŠØ© (2-8 Ø³Ù…)</option>
                            <option value="medium">Ø¹ØªØ¨Ø§Øª ÙˆØ¬Ø¯Ø±Ø§Ù† (2-10 Ø³Ù…)</option>
                            <option value="normal" selected>Ø£Ø¹Ù…Ø¯Ø© / Ø¨Ù„Ø§Ø·Ø§Øª (2-8 Ø³Ù…)</option>
                            <option value="custom">Ù…Ø®ØµØµ (Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø©)</option>
                        </select>
                    </div>

                    <div id="slumpDiv" class="form-group">
                        <label>Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‡Ø¨ÙˆØ· (Slump) - Ø³Ù…</label>
                        <input type="number" id="slump" value="5" min="2" max="20" step="0.5">
                        <div class="input-hint">Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù‡Ø¨ÙˆØ· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</div>
                    </div>

                    <div class="form-group">
                        <label>Ø£Ù‚ØµÙ‰ Ø­Ø¬Ù… Ù„Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (mm)</label>
                        <select id="maxAggSize">
                            <option value="9.5">9.5 Ù…Ù…</option>
                            <option value="12.5">12.5 Ù…Ù…</option>
                            <option value="19" selected>19 Ù…Ù…</option>
                            <option value="25">25 Ù…Ù…</option>
                            <option value="37.5">37.5 Ù…Ù…</option>
                            <option value="50">50 Ù…Ù…</option>
                        </select>
                    </div>
                </div>

                <!-- Material Properties -->
                <div class="card">
                    <h2>Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…ÙˆØ§Ø¯</h2>
                    
                    <div class="form-group">
                        <label>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ù„Ù„Ø¥Ø³Ù…Ù†Øª</label>
                        <input type="number" id="cementDensity" value="3.15" min="3.1" max="3.2" step="0.01">
                    </div>

                    <div class="form-group">
                        <label>ÙƒØ«Ø§ÙØ© Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† Ø§Ù„Ø¬Ø§Ù (kg/mÂ³)</label>
                        <input type="number" id="coarseAggDensity" value="1680" min="1500" max="1800" step="10">
                    </div>

                    <div class="form-group">
                        <label>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ù„Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù†</label>
                        <input type="number" id="coarseAggSG" value="2.7" min="2.5" max="2.9" step="0.1">
                    </div>

                    <div class="form-group">
                        <label>Ù†Ø³Ø¨Ø© Ø§Ù…ØªØµØ§Øµ Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (%)</label>
                        <input type="number" id="coarseAbsorption" value="0.5" min="0" max="3" step="0.1">
                    </div>

                    <div class="form-group">
                        <label>Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø·ÙˆØ¨ÙŠ Ù„Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (%)</label>
                        <input type="number" id="coarseMoisture" value="3" min="0" max="10" step="0.5">
                    </div>
                </div>

                <!-- Fine Aggregate Properties -->
                <div class="card">
                    <h2>Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (Ø§Ù„Ø±Ù…Ù„)</h2>
                    
                    <div class="form-group">
                        <label>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ù„Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù…</label>
                        <input type="number" id="fineAggSG" value="2.65" min="2.5" max="2.8" step="0.05">
                    </div>

                    <div class="form-group">
                        <label>Ù†Ø³Ø¨Ø© Ø§Ù…ØªØµØ§Øµ Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (%)</label>
                        <input type="number" id="fineAbsorption" value="1" min="0" max="3" step="0.1">
                    </div>

                    <div class="form-group">
                        <label>Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù†Ø¹ÙˆÙ…Ø© (FM)</label>
                        <input type="number" id="fineness" value="2.8" min="2.3" max="3.1" step="0.05">
                        <div class="input-hint">Ù‚ÙŠÙ…Ø© FM Ù…Ù† Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø­Ø¨ÙŠØ¨ÙŠ</div>
                    </div>

                    <div class="form-group">
                        <label>Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø·ÙˆØ¨ÙŠ Ù„Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (%)</label>
                        <input type="number" id="fineMoisture" value="7" min="0" max="15" step="0.5">
                    </div>
                </div>

                <!-- Environmental Conditions -->
                <div class="card">
                    <h2>Ø§Ù„Ø¸Ø±ÙˆÙ Ø§Ù„Ø¨ÙŠØ¦ÙŠØ©</h2>
                    
                    <div class="form-group">
                        <label>Ù†ÙˆØ¹ Ø§Ù„ØªØ¹Ø±Ø¶</label>
                        <select id="exposure">
                            <option value="none" selected>Ø¹Ø§Ø¯ÙŠ - Ù„Ø§ ÙŠØªØ¹Ø±Ø¶ Ù„Ø¸Ø±ÙˆÙ Ù‚Ø§Ø³ÙŠØ©</option>
                            <option value="freeze">Ø¯ÙˆØ±Ø§Øª Ø§Ù†Ø¬Ù…Ø§Ø¯ ÙˆØ°ÙˆØ¨Ø§Ù†</option>
                            <option value="saltwater">Ù…ÙŠØ§Ù‡ Ø§Ù„Ø¨Ø­Ø± ÙˆØ§Ù„Ø£Ù…Ù„Ø§Ø­</option>
                            <option value="sulfate">Ø§Ù„ÙƒØ¨Ø±ÙŠØªØ§Øª</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§ (Ø£Ù‚ØµÙ‰)</label>
                        <input type="number" id="maxWC" value="0.65" min="0.35" max="0.80" step="0.05">
                        <div class="input-hint">ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„ØªØ¹Ø±Ø¶</div>
                    </div>

                    <div class="form-group">
                        <label>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ù…Ø¯Ø®Ù„ (%)</label>
                        <input type="number" id="airContent" value="2" min="0" max="8" step="0.5">
                        <div class="input-hint">0-2% Ù„Ù„Ø®Ø±Ø³Ø§Ù†Ø© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©ØŒ 3-8% Ù„Ù„Ù…Ø¹Ø±Ø¶Ø© Ù„Ù„ØªØ¬Ù…ÙŠØ¯</div>
                    </div>
                </div>

                <!-- Admixtures & Pozzolans -->
                <div class="card">
                    <h2>ğŸ§ª Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©</h2>
                    
                    <div class="form-group">
                        <label>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¶Ø§ÙØ§Øª ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©ØŸ</label>
                        <select id="useAdmixtures" onchange="toggleAdmixtures()">
                            <option value="none" selected>Ù„Ø§ - Ø®Ø±Ø³Ø§Ù†Ø© Ø¹Ø§Ø¯ÙŠØ© ÙÙ‚Ø·</option>
                            <option value="yes">Ù†Ø¹Ù… - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¶Ø§ÙØ§Øª</option>
                        </select>
                    </div>

                    <div id="admixDiv" style="display: none;">
                        <div class="form-group">
                            <label>Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</label>
                            <select id="admixType" onchange="updateAdmixInfo()">
                                <option value="waterReducer">Ù…Ù‚Ù„Ù„ Ø§Ù„Ù…Ø§Ø¡ (Water Reducer)</option>
                                <option value="airEntraining">Ù…Ù†ØªØ¬ Ø§Ù„Ù‡ÙˆØ§Ø¡ (Air Entraining)</option>
                                <option value="superplasticizer">Ø§Ù„Ù…Ù…Ø¯Ø¯ Ø§Ù„ÙØ§Ø¦Ù‚ (Superplasticizer)</option>
                                <option value="retarder">Ù…Ø¨Ø·Ø¦ Ø§Ù„ØªØµÙ„Ø¨ (Retarder)</option>
                                <option value="accelerator">Ù…Ø¹Ø¬Ù„ Ø§Ù„ØªØµÙ„Ø¨ (Accelerator)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Ø¬Ø±Ø¹Ø© Ø§Ù„Ø¥Ø¶Ø§ÙØ© (% Ù…Ù† ÙˆØ²Ù† Ø§Ù„Ø¥Ø³Ù…Ù†Øª)</label>
                            <input type="number" id="admixDosage" value="1" min="0.1" max="5" step="0.1">
                            <div id="admixHint" class="input-hint">Ø§Ù„Ø¬Ø±Ø¹Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¶Ø§ÙØ©</div>
                        </div>
                    </div>
                </div>

                <!-- Pozzolans & Replacements -->
                <div class="card">
                    <h2>â™»ï¸ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©</h2>
                    
                    <div class="form-group">
                        <label>Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙˆØ§Ø¯ Ø¨Ø¯ÙŠÙ„Ø© Ù„Ù„Ø¥Ø³Ù…Ù†ØªØŸ</label>
                        <select id="usePozzolans" onchange="togglePozzolans()">
                            <option value="none" selected>Ù„Ø§ - Ø¥Ø³Ù…Ù†Øª Ø¹Ø§Ø¯ÙŠ ÙÙ‚Ø·</option>
                            <option value="yes">Ù†Ø¹Ù… - Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙˆØ§Ø¯ Ø¨Ø¯ÙŠÙ„Ø©</option>
                        </select>
                    </div>

                    <div id="pozzDiv" style="display: none;">
                        <div class="form-group">
                            <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©</label>
                            <select id="pozzType" onchange="updatePozzInfo()">
                                <option value="flyAsh">Ø§Ù„Ø±Ù…Ø§Ø¯ Ø§Ù„Ù…ØªØ·Ø§ÙŠØ± (Fly Ash - Class F)</option>
                                <option value="slag">Ø®Ø¨Ø« Ø§Ù„Ø­Ø¯ÙŠØ¯ (Blast Furnace Slag)</option>
                                <option value="silicaFume">Ø¯Ø®Ø§Ù† Ø§Ù„Ø³ÙŠÙ„ÙŠÙƒØ§ (Silica Fume)</option>
                                <option value="pozzolan">Ø§Ù„Ø¨ÙˆØ²ÙˆÙ„Ø§Ù† Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ (Natural Pozzolan)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„ (% Ù…Ù† ÙˆØ²Ù† Ø§Ù„Ø¥Ø³Ù…Ù†Øª)</label>
                            <input type="number" id="pozzPercentage" value="15" min="5" max="50" step="5">
                            <div id="pozzHint" class="input-hint">Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ Ù„Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©</div>
                        </div>

                        <div class="form-group">
                            <label>Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ù„Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©</label>
                            <input type="number" id="pozzDensity" value="2.4" min="1.9" max="3.0" step="0.1">
                            <div class="input-hint">Ø§Ù„ÙƒØ«Ø§ÙØ© Ø§Ù„Ù†Ø³Ø¨ÙŠØ© Ù„Ù„Ù…Ø§Ø¯Ø© (SG)</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn-primary" onclick="calculateMix()">Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ù„Ø·Ø©</button>
                <button class="btn-secondary" onclick="loadExample()">ØªØ­Ù…ÙŠÙ„ Ù…Ø«Ø§Ù„</button>
                <button class="btn-secondary" onclick="resetForm()">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
            </div>
        </div>

        <!-- CALCULATION TAB -->
        <div id="calculation" class="tab-content">
            <div class="card">
                <h2 id="calcTitle">Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ (ACI)</h2>
                
                <div id="stepsContainer">
                    <p style="color: var(--text-secondary);">Ù‚Ù… Ø¨Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ù„Ø·Ø© Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† ØªØ¨ÙˆÙŠØ¨ "Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"</p>
                </div>
            </div>
        </div>

        <!-- RESULTS TAB -->
        <div id="results" class="tab-content">
            <div class="card">
                <h2 id="resultsTitle">Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (ACI)</h2>
                <div id="resultsContainer">
                    <p style="color: var(--text-secondary);">Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨</p>
                </div>
            </div>
        </div>

        <!-- REFERENCES TAB -->
        <div id="references" class="tab-content">
            <div class="card">
                <h2>Ø¬Ø¯Ø§ÙˆÙ„ ACI 211.1</h2>
                
                <div class="table-section">
                    <h3>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙŠØ§Ù‡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø­Ø³Ø¨ Ø§Ù„Ù‡Ø¨ÙˆØ· ÙˆØ­Ø¬Ù… Ø§Ù„Ø±ÙƒØ§Ù…</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Ø­Ø¬Ù… Ø§Ù„Ø±ÙƒØ§Ù… (mm)</th>
                                <th>25-50 Ø³Ù…</th>
                                <th>75-100 Ø³Ù…</th>
                                <th>150-175 Ø³Ù…</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>9.5</td><td>207</td><td>228</td><td>243</td>
                            </tr>
                            <tr>
                                <td>12.5</td><td>199</td><td>216</td><td>228</td>
                            </tr>
                            <tr>
                                <td>19</td><td>190</td><td>205</td><td>216</td>
                            </tr>
                            <tr>
                                <td>25</td><td>179</td><td>193</td><td>202</td>
                            </tr>
                            <tr>
                                <td>37.5</td><td>166</td><td>181</td><td>190</td>
                            </tr>
                            <tr>
                                <td>50</td><td>154</td><td>169</td><td>178</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-section">
                    <h3>Ø¹Ù„Ø§Ù‚Ø© Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª Ø¨Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø§Ù†Ø¶ØºØ§Ø·</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª</th>
                                <th>Ù…Ù‚Ø§ÙˆÙ…Ø© 28 ÙŠÙˆÙ… (MPa)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>0.38</td><td>45</td></tr>
                            <tr><td>0.43</td><td>40</td></tr>
                            <tr><td>0.48</td><td>35</td></tr>
                            <tr><td>0.55</td><td>30</td></tr>
                            <tr><td>0.62</td><td>25</td></tr>
                            <tr><td>0.70</td><td>20</td></tr>
                            <tr><td>0.80</td><td>15</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-section">
                    <h3>Ø¬Ø¯Ø§ÙˆÙ„ BS EN 206</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Ø¯Ø±Ø¬Ø© Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø©</th>
                                <th>Ø§Ù„Ø±Ù…Ø²</th>
                                <th>Ù…Ù‚Ø§ÙˆÙ…Ø© (MPa)</th>
                                <th>W/C Ø£Ù‚ØµÙ‰</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>C12/15</td><td>C12/15</td><td>12</td><td>0.75</td></tr>
                            <tr><td>C16/20</td><td>C16/20</td><td>16</td><td>0.70</td></tr>
                            <tr><td>C20/25</td><td>C20/25</td><td>20</td><td>0.65</td></tr>
                            <tr><td>C25/30</td><td>C25/30</td><td>25</td><td>0.60</td></tr>
                            <tr><td>C30/37</td><td>C30/37</td><td>30</td><td>0.55</td></tr>
                            <tr><td>C35/45</td><td>C35/45</td><td>35</td><td>0.50</td></tr>
                            <tr><td>C40/50</td><td>C40/50</td><td>40</td><td>0.45</td></tr>
                            <tr><td>C45/55</td><td>C45/55</td><td>45</td><td>0.40</td></tr>
                            <tr><td>C50/60</td><td>C50/60</td><td>50</td><td>0.35</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-section">
                    <h3>Ø¬Ø¯Ø§ÙˆÙ„ Ø­Ø¯ÙˆØ¯ Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø­Ø¨ÙŠØ¨ÙŠ (ASTM C33)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Ø­Ø¬Ù… Ø§Ù„ØºØ±Ø¨Ø§Ù„ (mm)</th>
                                <th>Ø§Ù„Ø±Ù…Ù„ (No.4)</th>
                                <th>Ø­ØµÙ‰ 12.5</th>
                                <th>Ø­ØµÙ‰ 19</th>
                                <th>Ø­ØµÙ‰ 37.5</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>50</td><td>-</td><td>-</td><td>-</td><td>100</td></tr>
                            <tr><td>37.5</td><td>-</td><td>-</td><td>-</td><td>90-100</td></tr>
                            <tr><td>25</td><td>-</td><td>100</td><td>100</td><td>20-55</td></tr>
                            <tr><td>19</td><td>-</td><td>90-100</td><td>90-100</td><td>0-15</td></tr>
                            <tr><td>12.5</td><td>-</td><td>20-55</td><td>20-55</td><td>-</td></tr>
                            <tr><td>9.5</td><td>-</td><td>0-10</td><td>0-15</td><td>-</td></tr>
                            <tr><td>4.75</td><td>95-100</td><td>-</td><td>0-5</td><td>-</td></tr>
                            <tr><td>2.36</td><td>80-100</td><td>-</td><td>-</td><td>-</td></tr>
                            <tr><td>1.18</td><td>50-85</td><td>-</td><td>-</td><td>-</td></tr>
                            <tr><td>0.6</td><td>25-60</td><td>-</td><td>-</td><td>-</td></tr>
                            <tr><td>0.3</td><td>10-30</td><td>-</td><td>-</td><td>-</td></tr>
                            <tr><td>0.15</td><td>2-10</td><td>-</td><td>-</td><td>-</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-section">
                    <h3>Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù†Ø¹ÙˆÙ…Ø© (Fineness Modulus)</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Ø§Ù„ØªØµÙ†ÙŠÙ</th>
                                <th>FM Range</th>
                                <th>Ø§Ù„Ø®ØµØ§Ø¦Øµ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Ù†Ø§Ø¹Ù… Ø¬Ø¯Ø§Ù‹</td><td>2.3 - 2.4</td><td>Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</td></tr>
                            <tr><td>Ù†Ø§Ø¹Ù…</td><td>2.4 - 2.6</td><td>Ø²ÙŠØ§Ø¯Ø© Ù…Ø¹ØªØ¯Ù„Ø© ÙÙŠ Ø§Ù„Ù…Ø§Ø¡</td></tr>
                            <tr><td>Ù…ØªÙˆØ³Ø·</td><td>2.6 - 2.8</td><td>Ù…Ø«Ø§Ù„ÙŠ - Ø§Ù„Ø£ÙØ¶Ù„ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</td></tr>
                            <tr><td>Ø®Ø´Ù†</td><td>2.8 - 3.0</td><td>ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</td></tr>
                            <tr><td>Ø®Ø´Ù† Ø¬Ø¯Ø§Ù‹</td><td>3.0 - 3.2</td><td>ØªÙ‚Ù„ÙŠÙ„ Ù…Ø¹ØªØ¯Ù„ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡</td></tr>
                        </tbody>
                    </table>
                    <p style="margin-top: 12px; font-size: 0.85em; color: var(--text-secondary); line-height: 1.6;">
                        <strong>Ø­Ø³Ø§Ø¨ FM:</strong> Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø© Ø§Ù„Ù…Ø­ØªÙØ¸ Ø¨Ù‡Ø§ Ã· 100<br>
                        <strong>Ø§Ù„Ø£ØºØ±Ø¨Ø§Ù„:</strong> 4.75mm, 2.36mm, 1.18mm, 0.6mm, 0.3mm, 0.15mm
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentMethod = 'aci'; // ACI or BS

        function switchMethod(method) {
            currentMethod = method;
            // Update button styling
            const aciBtn = document.getElementById('aciBtn');
            const bsBtn = document.getElementById('bsBtn');
            
            if (method === 'aci') {
                aciBtn.style.background = 'var(--primary-light)';
                bsBtn.style.background = 'rgba(255,255,255,0.2)';
            } else {
                aciBtn.style.background = 'rgba(255,255,255,0.2)';
                bsBtn.style.background = 'var(--primary-light)';
            }
            
            // Reset results
            resetForm();
            // Update header
            document.getElementById('calcTitle').textContent = `Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ (${method === 'aci' ? 'ACI' : 'BS EN'})`;
            document.getElementById('resultsTitle').textContent = `Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© (${method === 'aci' ? 'ACI' : 'BS EN'})`;
        }

        // ACI Tables
        // Updated ACI 211.1 Table 6.3.3 - Mixing Water Requirements
        // Water in lb/ydÂ³ for different slumps and aggregate sizes
        const waterTable = {
            // Non-air-entrained concrete
            'nonAir': {
                '9.5': { '1-2': 350, '3-4': 385, '6-7': 410 },
                '12.5': { '1-2': 335, '3-4': 365, '6-7': 385 },
                '19': { '1-2': 315, '3-4': 340, '6-7': 360 },
                '25': { '1-2': 300, '3-4': 325, '6-7': 340 },
                '37.5': { '1-2': 275, '3-4': 300, '6-7': 315 },
                '50': { '1-2': 260, '3-4': 285, '6-7': 300 }
            },
            // Air-entrained concrete
            'air': {
                '9.5': { '1-2': 305, '3-4': 340, '6-7': 365 },
                '12.5': { '1-2': 295, '3-4': 325, '6-7': 345 },
                '19': { '1-2': 280, '3-4': 305, '6-7': 325 },
                '25': { '1-2': 270, '3-4': 295, '6-7': 310 },
                '37.5': { '1-2': 250, '3-4': 275, '6-7': 290 },
                '50': { '1-2': 240, '3-4': 265, '6-7': 280 }
            }
        };

        // ACI 211.1 Table 6.3.6 - Volume of Coarse Aggregate per Unit Volume of Concrete
        // Based on Fineness Modulus of Fine Aggregate
        const coarseAggregateTable = {
            '9.5': { '2.40': 0.50, '2.60': 0.48, '2.80': 0.46, '3.00': 0.44 },
            '12.5': { '2.40': 0.59, '2.60': 0.57, '2.80': 0.55, '3.00': 0.53 },
            '19': { '2.40': 0.66, '2.60': 0.64, '2.80': 0.62, '3.00': 0.60 },
            '25': { '2.40': 0.71, '2.60': 0.69, '2.80': 0.67, '3.00': 0.65 },
            '37.5': { '2.40': 0.75, '2.60': 0.73, '2.80': 0.71, '3.00': 0.69 },
            '50': { '2.40': 0.78, '2.60': 0.76, '2.80': 0.74, '3.00': 0.72 },
            '75': { '2.40': 0.82, '2.60': 0.80, '2.80': 0.78, '3.00': 0.76 },
            '150': { '2.40': 0.87, '2.60': 0.85, '2.80': 0.83, '3.00': 0.81 }
        };

        // Updated ACI 211.1 Table 6.3.4(a) - W/C Ratio vs 28-day Strength (psi)
        const wcRatioTable = {
            // Target strength at 28 days (psi) -> W/C ratio
            '5000': 0.38,
            '4000': 0.43,
            '3500': 0.48,
            '3000': 0.55,
            '2500': 0.62,
            '2000': 0.70,
            '1500': 0.80
        };

        let calculationResults = {};

        function switchTab(event, tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function interpolate(x0, y0, x1, y1, x) {
            return y0 + (y1 - y0) * (x - x0) / (x1 - x0);
        }

        function getWaterContent() {
            const slump = parseFloat(document.getElementById('slump').value);
            const maxSize = document.getElementById('maxAggSize').value;
            const isAirEntrained = parseFloat(document.getElementById('airContent').value) > 2;
            
            let slumpRange;
            if (slump <= 2.5) slumpRange = '1-2';
            else if (slump <= 5) slumpRange = '3-4';
            else slumpRange = '6-7';
            
            const table = isAirEntrained ? waterTable.air : waterTable.nonAir;
            return table[maxSize][slumpRange] || 300; // Default fallback
        }

        function getWCRatio() {
            const fc = parseFloat(document.getElementById('fc').value);
            
            // Convert specified compressive strength to 28-day strength requirement
            // Using ACI formula for required average strength
            const fcRequired = fc * 1.34 + 2.33; // Conservative approach
            
            const keys = Object.keys(wcRatioTable).map(Number).sort((a, b) => a - b);
            let ratio = wcRatioTable['1500'];
            
            // Find appropriate W/C ratio for required strength
            for (let i = 0; i < keys.length - 1; i++) {
                if (fcRequired >= keys[i] && fcRequired <= keys[i+1]) {
                    ratio = interpolate(keys[i], parseFloat(wcRatioTable[keys[i]]), 
                                       keys[i+1], parseFloat(wcRatioTable[keys[i+1]]), fcRequired);
                    break;
                }
                else if (fcRequired > keys[i+1]) {
                    ratio = wcRatioTable[keys[i+1]];
                }
            }
            
            const maxWC = parseFloat(document.getElementById('maxWC').value);
            return Math.min(ratio, maxWC);
        }

        function getCoarseAggregateVolume() {
            const maxSize = document.getElementById('maxAggSize').value;
            const fineness = parseFloat(document.getElementById('fineness').value);
            const table = coarseAggregateTable[maxSize];
            
            // Find closest fineness modulus value in table
            const fmKeys = Object.keys(table).map(parseFloat).sort((a, b) => a - b);
            let fmKey;
            
            if (fineness <= fmKeys[0]) {
                fmKey = fmKeys[0].toFixed(2);
            } else if (fineness >= fmKeys[fmKeys.length - 1]) {
                fmKey = fmKeys[fmKeys.length - 1].toFixed(2);
            } else {
                // Linear interpolation between closest values
                for (let i = 0; i < fmKeys.length - 1; i++) {
                    if (fineness >= fmKeys[i] && fineness <= fmKeys[i + 1]) {
                        const fm1 = fmKeys[i].toFixed(2);
                        const fm2 = fmKeys[i + 1].toFixed(2);
                        const vol1 = table[fm1];
                        const vol2 = table[fm2];
                        const ratio = (fineness - fmKeys[i]) / (fmKeys[i + 1] - fmKeys[i]);
                        return vol1 + (vol2 - vol1) * ratio;
                    }
                }
                fmKey = fmKeys[fmKeys.length - 1].toFixed(2);
            }
            
            return table[fmKey];
        }

        function calculateMix() {
            if (currentMethod === 'aci') {
                calculateMixACI();
            } else {
                calculateMixBS();
            }
        }

        function calculateMixACI() {
            const fc = parseFloat(document.getElementById('fc').value);
            const cementDensity = parseFloat(document.getElementById('cementDensity').value);
            let waterContent = getWaterContent();
            let wcRatio = getWCRatio();
            
            // Initialize cement and pozzolan variables
            let cementContent = waterContent / wcRatio;
            let pozzContent = 0;
            let pozzType = 'none';
            let pozzPercentage = 0;
            let pozzWaterFactor = 1.0;
            
            // Handle Pozzolans/Replacements
            if (document.getElementById('usePozzolans').value === 'yes') {
                pozzType = document.getElementById('pozzType').value;
                pozzPercentage = parseFloat(document.getElementById('pozzPercentage').value) / 100;
                pozzContent = cementContent * pozzPercentage;
                cementContent = cementContent * (1 - pozzPercentage); // Pure cement after replacement
                
                // Adjust water based on pozzolan type
                const pozzWaterFactors = {
                    'flyAsh': 0.98,
                    'slag': 0.95,
                    'silicaFume': 1.10,
                    'pozzolan': 0.97
                };
                pozzWaterFactor = pozzWaterFactors[pozzType] || 1.0;
                waterContent = waterContent * pozzWaterFactor;
            }
            
            // Handle Admixtures (they affect water requirement)
            let admixType = 'none';
            let admixDosage = 0;
            if (document.getElementById('useAdmixtures').value === 'yes') {
                admixType = document.getElementById('admixType').value;
                admixDosage = parseFloat(document.getElementById('admixDosage').value) / 100;
                
                // Water reducer reduces water requirement by 5-10%
                if (admixType === 'waterReducer') {
                    waterContent = waterContent * 0.92; // 8% reduction typical
                }
                // Superplasticizer reduces water by 10-20%
                else if (admixType === 'superplasticizer') {
                    waterContent = waterContent * 0.88; // 12% reduction typical
                }
            }
            const coarseAggVolume = getCoarseAggregateVolume();
            const coarseAggDensity = parseFloat(document.getElementById('coarseAggDensity').value);
            const coarseAggSG = parseFloat(document.getElementById('coarseAggSG').value);
            const fineAggSG = parseFloat(document.getElementById('fineAggSG').value);
            const airContent = parseFloat(document.getElementById('airContent').value) / 100;
            
            // Dry weight of coarse aggregate (dry-rodded basis)
            const coarseAggWeightDry = coarseAggVolume * coarseAggDensity;
            
            // Fine aggregate calculation using Absolute Volume Method (ACI 211.1 Step 7)
            // Volume per mÂ³ of concrete
            const volumeWater = waterContent / 1000; // mÂ³
            const volumeCement = cementContent / (cementDensity * 1000); // mÂ³
            const volumeCoarseAgg = coarseAggWeightDry / (coarseAggSG * 1000); // mÂ³
            const volumeAir = airContent; // mÂ³
            
            // Calculate fine aggregate volume
            const fineAggVolume = 1.0 - (volumeWater + volumeCement + volumeCoarseAgg + volumeAir);
            const fineAggWeightDry = fineAggVolume * fineAggSG * 1000; // kg/mÂ³
            
            // Moisture adjustments (Step 8)
            const coarseAbsorption = parseFloat(document.getElementById('coarseAbsorption').value) / 100;
            const coarseMoisture = parseFloat(document.getElementById('coarseMoisture').value) / 100;
            const fineAbsorption = parseFloat(document.getElementById('fineAbsorption').value) / 100;
            const fineMoisture = parseFloat(document.getElementById('fineMoisture').value) / 100;
            
            // Surface water (total moisture - absorption)
            const coarseSurfaceWater = coarseAggWeightDry * (coarseMoisture - coarseAbsorption) / 100;
            const fineSurfaceWater = fineAggWeightDry * (fineMoisture - fineAbsorption) / 100;
            
            // Adjusted mixing water
            const adjustedWater = waterContent - coarseSurfaceWater - fineSurfaceWater;
            
            // Wet aggregate weights (as-measured)
            const coarseAggWeightWet = coarseAggWeightDry * (1 + coarseMoisture / 100);
            const fineAggWeightWet = fineAggWeightDry * (1 + fineMoisture / 100);
            
            // SSD (Saturated Surface Dry) weights
            const coarseAggWeightSSD = coarseAggWeightDry * (1 + coarseAbsorption / 100);
            const fineAggWeightSSD = fineAggWeightDry * (1 + fineAbsorption / 100);
            
            // Total weights for verification
            const totalDryWeight = cementContent + fineAggWeightDry + coarseAggWeightDry + waterContent;
            const totalWetWeight = cementContent + fineAggWeightWet + coarseAggWeightWet + adjustedWater;
            
            calculationResults = {
                method: 'ACI',
                fc, 
                fcCr: fc < 20.7 ? fc + 6.9 : (fc < 34.5 ? fc + 8.3 : 1.1 * fc + 4.8),
                waterContent: Math.round(waterContent),
                wcRatio: wcRatio.toFixed(3),
                cementContent: Math.round(cementContent),
                pozzContent: Math.round(pozzContent),
                pozzType: pozzType,
                pozzPercentage: pozzPercentage * 100,
                totalCementitious: Math.round(cementContent + pozzContent),
                admixType: admixType,
                admixDosage: admixDosage * 100,
                coarseAggVolume: coarseAggVolume.toFixed(3),
                coarseAggWeightDry: Math.round(coarseAggWeightDry),
                coarseAggWeightSSD: Math.round(coarseAggWeightSSD),
                fineAggWeightDry: Math.round(fineAggWeightDry),
                fineAggWeightSSD: Math.round(fineAggWeightSSD),
                adjustedWater: Math.round(adjustedWater),
                coarseAggWeightWet: Math.round(coarseAggWeightWet),
                fineAggWeightWet: Math.round(fineAggWeightWet),
                airContent: (airContent * 100).toFixed(1),
                slump: document.getElementById('slump').value,
                maxSize: document.getElementById('maxAggSize').value,
                totalDryWeight: Math.round(totalDryWeight),
                totalWetWeight: Math.round(totalWetWeight),
                fineness: parseFloat(document.getElementById('fineness').value).toFixed(2),
                coarseSurfaceWater: Math.round(coarseSurfaceWater),
                fineSurfaceWater: Math.round(fineSurfaceWater)
            };
            
            displayResultsACI();
        }

        function calculateMixBS() {
            const fc = parseFloat(document.getElementById('fc').value);
            const cementDensity = parseFloat(document.getElementById('cementDensity').value);
            const slump = parseFloat(document.getElementById('slump').value);
            const maxSize = document.getElementById('maxAggSize').value;
            
            // BS EN water content (approximation based on slump and aggregate size)
            const bsWaterTable = {
                '10': { 'veryStiff': 150, 'stiff': 170, 'medium': 190, 'flowing': 210 },
                '20': { 'veryStiff': 130, 'stiff': 150, 'medium': 170, 'flowing': 190 },
                '40': { 'veryStiff': 110, 'stiff': 130, 'medium': 150, 'flowing': 170 }
            };
            
            let consistency;
            if (slump <= 3) consistency = 'veryStiff';
            else if (slump <= 6) consistency = 'stiff';
            else if (slump <= 10) consistency = 'medium';
            else consistency = 'flowing';
            
            // Map aggregate size to BS table key
            let bsTableKey = '20';
            const aggSize = parseFloat(maxSize);
            if (aggSize <= 16) bsTableKey = '10';
            else if (aggSize <= 28) bsTableKey = '20';
            else bsTableKey = '40';
            
            // Get BS water content
            const waterContent = bsWaterTable[bsTableKey][consistency] || 170;
            
            // BS EN w/c ratio (more restrictive than ACI)
            const bsWCTable = { '15': 0.85, '20': 0.75, '25': 0.65, '30': 0.55, '35': 0.50, '40': 0.45, '45': 0.40, '50': 0.35 };
            const keys = Object.keys(bsWCTable).map(Number).sort((a, b) => a - b);
            let wcRatio = bsWCTable['50'];
            
            for (let i = 0; i < keys.length - 1; i++) {
                if (fc >= keys[i] && fc <= keys[i+1]) {
                    wcRatio = interpolate(keys[i], bsWCTable[keys[i]], keys[i+1], bsWCTable[keys[i+1]], fc);
                    break;
                }
            }
            
            wcRatio = Math.min(wcRatio, 0.70); // BS EN max w/c for durability
            const cementContent = waterContent / wcRatio;
            
            // BS EN aggregate content
            const coarseAggDensity = parseFloat(document.getElementById('coarseAggDensity').value);
            const fineness = parseFloat(document.getElementById('fineness').value).toFixed(1);
            
            // Simplified BS aggregate calculation
            const totalAggregate = 2000 - cementContent - waterContent;
            const coarseAggRatio = 0.60; // BS typical
            const coarseAggWeight = totalAggregate * coarseAggRatio;
            const fineAggWeight = totalAggregate * (1 - coarseAggRatio);
            
            // Moisture adjustments
            const coarseAbsorption = parseFloat(document.getElementById('coarseAbsorption').value) / 100;
            const coarseMoisture = parseFloat(document.getElementById('coarseMoisture').value) / 100;
            const fineAbsorption = parseFloat(document.getElementById('fineAbsorption').value) / 100;
            const fineMoisture = parseFloat(document.getElementById('fineMoisture').value) / 100;
            
            const coarseWaterAdsorbed = (coarseMoisture - coarseAbsorption) * coarseAggWeight / 100;
            const fineWaterAdsorbed = (fineMoisture - fineAbsorption) * fineAggWeight / 100;
            const adjustedWater = waterContent - coarseWaterAdsorbed - fineWaterAdsorbed;
            
            const wetCoarseAgg = coarseAggWeight * (1 + coarseMoisture / 100);
            const wetFineAgg = fineAggWeight * (1 + fineMoisture / 100);
            
            calculationResults = {
                method: 'BS EN 206',
                fc,
                waterContent: Math.round(waterContent),
                wcRatio: wcRatio.toFixed(3),
                cementContent: Math.round(cementContent),
                coarseAggWeight: Math.round(coarseAggWeight),
                fineAggWeight: Math.round(fineAggWeight),
                adjustedWater: Math.round(adjustedWater),
                wetCoarseAgg: Math.round(wetCoarseAgg),
                wetFineAgg: Math.round(wetFineAgg),
                consistency: consistency,
                slump: slump,
                maxSize: maxSize
            };
            
            displayResultsBS();
        }

        function displayResultsACI() {
            const r = calculationResults;
            
            let stepsHTML = `<div class="info">Ø®Ø·ÙˆØ§Øª Ø­Ø³Ø§Ø¨ ACI 211.1 Ø§Ù„Ù…ØªØ¨Ø¹Ø©</div>
                <div style="margin-top: 15px; padding: 15px; background: #f9f9f9; border-right: 4px solid var(--primary); border-radius: 6px;">
                    <h4>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©:</h4>
                    <p>â€¢ Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø§Ù†Ø¶ØºØ§Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: ${r.fc} MPa</p>
                    <p>â€¢ Ø§Ù„Ù‡Ø¨ÙˆØ·: ${r.slump} Ø³Ù…</p>
                    <p>â€¢ Ø£Ù‚ØµÙ‰ Ø­Ø¬Ù… Ù„Ù„Ø±ÙƒØ§Ù…: ${r.maxSize} mm</p>
                    <p>â€¢ Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù†Ø¹ÙˆÙ…Ø©: ${r.fineness}</p>
                </div>`;
            
            stepsHTML += `
                <div class="results-grid">
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„ØªØµÙ…ÙŠÙ…ÙŠØ©</div>
                        <div class="result-value">${r.fcCr.toFixed(2)}</div>
                        <div class="result-unit">MPa</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø®Ø·ÙˆØ© 3: Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø§Ø¡</div>
                        <div class="result-value">${r.waterContent}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø®Ø·ÙˆØ© 4: Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª</div>
                        <div class="result-value">${r.wcRatio}</div>
                        <div class="result-unit">W/C</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø®Ø·ÙˆØ© 5: Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø³Ù…Ù†Øª</div>
                        <div class="result-value">${r.cementContent}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø®Ø·ÙˆØ© 6: Ù†Ø³Ø¨Ø© Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù†</div>
                        <div class="result-value">${r.coarseAggVolume}</div>
                        <div class="result-unit">mÂ³/mÂ³</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø®Ø·ÙˆØ© 6: Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (Ø¬Ø§Ù)</div>
                        <div class="result-value">${r.coarseAggWeightDry}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                </div>
            `;
            
            document.getElementById('stepsContainer').innerHTML = stepsHTML;
            
            const finalHTML = `
                <div class="success">âœ“ ØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ù„Ø·Ø© Ø¨Ù†Ø¬Ø§Ø­ (ACI 211.1) - Absolute Volume Method</div>
                
                <div class="table-section">
                    <h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (Step 7 - Dry Basis)</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø¥Ø³Ù…Ù†Øª</td><td style="font-weight: bold;">${r.cementContent} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (Ø¬Ø§Ù)</td><td style="font-weight: bold;">${r.fineAggWeightDry} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (Ø¬Ø§Ù)</td><td style="font-weight: bold;">${r.coarseAggWeightDry} kg</td></tr>
                        <tr><td>Ø§Ù„Ù…Ø§Ø¡</td><td style="font-weight: bold;">${r.waterContent} kg</td></tr>
                        <tr style="background: #f0f0f0;"><td style="font-weight: bold;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬Ø§Ù</td><td style="font-weight: bold;">${r.totalDryWeight} kg</td></tr>
                    </table>
                </div>
                
                <div class="table-section">
                    <h3>Ø§Ù„Ø£ÙˆØ²Ø§Ù† SSD (Saturated Surface Dry) - Step 8</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… SSD</td><td style="font-weight: bold;">${r.fineAggWeightSSD} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† SSD</td><td style="font-weight: bold;">${r.coarseAggWeightSSD} kg</td></tr>
                        <tr><td style="font-size: 0.85em; color: var(--text-secondary);">Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ø³Ø·Ø­ÙŠ - Ø±Ù…Ù„</td><td style="font-size: 0.85em; color: var(--text-secondary);">+ ${r.fineSurfaceWater} kg</td></tr>
                        <tr><td style="font-size: 0.85em; color: var(--text-secondary);">Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ø³Ø·Ø­ÙŠ - Ø­ØµÙ‰</td><td style="font-size: 0.85em; color: var(--text-secondary);">+ ${r.coarseSurfaceWater} kg</td></tr>
                    </table>
                </div>
                
                <div class="table-section">
                    <h3>Ø§Ù„Ø£ÙˆØ²Ø§Ù† Ø§Ù„Ø±Ø·Ø¨Ø© (As-Measured) - Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ¹Ù„ÙŠ</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø¥Ø³Ù…Ù†Øª</td><td style="font-weight: bold;">${r.cementContent} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (Ø±Ø·Ø¨)</td><td style="font-weight: bold;">${r.fineAggWeightWet} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (Ø±Ø·Ø¨)</td><td style="font-weight: bold;">${r.coarseAggWeightWet} kg</td></tr>
                        <tr><td>Ø§Ù„Ù…Ø§Ø¡ (Ù…ØµØ­Ø­)</td><td style="font-weight: bold;">${r.adjustedWater} kg</td></tr>
                        <tr style="background: #e8f5e9;"><td style="font-weight: bold;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø·Ø¨</td><td style="font-weight: bold;">${r.totalWetWeight} kg</td></tr>
                    </table>
                </div>

                <div class="table-section">
                    <h3>âœ“ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø³Ø¨ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬Ø§Ù</td><td style="font-weight: bold; color: var(--primary);">${r.totalDryWeight} kg/mÂ³</td></tr>
                        <tr><td>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø·Ø¨</td><td style="font-weight: bold; color: var(--primary);">${r.totalWetWeight} kg/mÂ³</td></tr>
                        <tr style="background: #e8f5e9;"><td style="font-weight: bold;">Ø§Ù„ÙØ±Ù‚ (Ø§Ù„Ø±Ø·ÙˆØ¨Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ©)</td><td style="font-weight: bold; color: #28a745;">${r.totalWetWeight - r.totalDryWeight} kg/mÂ³</td></tr>
                        <tr><td>Ù…Ø¹Ø§Ø¯Ù„ Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ù…Ø¶Ø§ÙØ©</td><td style="font-weight: bold;">${r.adjustedWater} kg/mÂ³</td></tr>
                        <tr><td>Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©</td><td style="font-weight: bold; color: var(--primary);">${r.wcRatio}</td></tr>
                        <tr><td>Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‡ÙˆØ§Ø¡</td><td style="font-weight: bold;">${r.airContent}%</td></tr>
                    </table>
                </div>
                
                ${r.pozzType !== 'none' ? `
                <div class="info" style="margin: 15px 0;">
                    <strong>ğŸ”¬ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©:</strong> ${r.pozzType.charAt(0).toUpperCase() + r.pozzType.slice(1)} (${r.pozzPercentage.toFixed(1)}%) | Ø§Ù„Ù…Ø­ØªÙˆÙ‰: ${r.pozzContent} kg/mÂ³
                </div>
                ` : ''}

                ${r.admixType !== 'none' ? `
                <div class="info" style="margin: 15px 0;">
                    <strong>ğŸ§ª Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª:</strong> ${r.admixType} (${r.admixDosage.toFixed(2)}% Ù…Ù† Ø§Ù„Ø¥Ø³Ù…Ù†Øª)
                </div>
                ` : ''}

                <div class="summary-card">
                    <h3>Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h3>
                    <div class="summary-item">
                        <div>
                            <div class="result-label">Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª</div>
                            <strong>${r.wcRatio}</strong>
                        </div>
                        <div>
                            <div class="result-label">Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø§Ù†Ø¶ØºØ§Ø·</div>
                            <strong>${r.fc} MPa</strong>
                        </div>
                    </div>
                    <div class="summary-item">
                        <div>
                            <div class="result-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø³Ù…Ù†Øª Ø§Ù„Ù†Ù‚ÙŠ</div>
                            <strong>${r.cementContent} kg/mÂ³</strong>
                        </div>
                        <div>
                            <div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¥Ø³Ù…Ù†ØªÙŠØ©</div>
                            <strong>${r.totalCementitious} kg/mÂ³</strong>
                        </div>
                    </div>
                    <div class="summary-item">
                        <div>
                            <div class="result-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù‡ÙˆØ§Ø¡</div>
                            <strong>${r.airContent}%</strong>
                        </div>
                        <div>
                            <div class="result-label">Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ù†Ø¹ÙˆÙ…Ø©</div>
                            <strong>${r.fineness}</strong>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('resultsContainer').innerHTML = finalHTML;
            
            document.getElementById('calculation').classList.add('active');
            document.getElementById('results').classList.add('active');
        }

        function resetForm() {
            document.querySelectorAll('input, select').forEach(el => el.value = el.defaultValue);
            document.getElementById('stepsContainer').innerHTML = '<p style="color: var(--text-secondary);">Ù‚Ù… Ø¨Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ù„Ø·Ø© Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† ØªØ¨ÙˆÙŠØ¨ "Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"</p>';
            document.getElementById('resultsContainer').innerHTML = '<p style="color: var(--text-secondary);">Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨</p>';
        }

        function displayResultsBS() {
            const r = calculationResults;
            const consistencyAr = { 'veryStiff': 'ØµÙ„Ø¨ Ø¬Ø¯Ø§Ù‹', 'stiff': 'ØµÙ„Ø¨', 'medium': 'Ù…ØªÙˆØ³Ø·', 'flowing': 'Ø³ÙŠØ§Ù„' };
            
            // Calculate total weight per cubic meter
            const totalDryWeight = r.cementContent + r.fineAggWeight + r.coarseAggWeight + r.waterContent;
            const totalWetWeight = r.cementContent + r.wetFineAgg + r.wetCoarseAgg + r.adjustedWater;
            
            let stepsHTML = `<div class="info">Ø®Ø·ÙˆØ§Øª Ø­Ø³Ø§Ø¨ BS EN 206 Ø§Ù„Ù…ØªØ¨Ø¹Ø©</div>
                <div style="margin-top: 15px; padding: 15px; background: #f9f9f9; border-right: 4px solid var(--primary); border-radius: 6px;">
                    <h4>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©:</h4>
                    <p>â€¢ Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø§Ù†Ø¶ØºØ§Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: ${r.fc} MPa</p>
                    <p>â€¢ Ø§Ù„Ù‡Ø¨ÙˆØ·: ${r.slump} Ø³Ù… (${consistencyAr[r.consistency]})</p>
                    <p>â€¢ Ø£Ù‚ØµÙ‰ Ø­Ø¬Ù… Ù„Ù„Ø±ÙƒØ§Ù…: ${r.maxSize} mm</p>
                </div>`;
            
            stepsHTML += `
                <div class="results-grid">
                    <div class="result-box">
                        <div class="result-label">Ø¯Ø±Ø¬Ø© Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø©</div>
                        <div class="result-value">C${r.fc}/37</div>
                        <div class="result-unit">EN Classification</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø§Ø¡</div>
                        <div class="result-value">${r.waterContent}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª</div>
                        <div class="result-value">${r.wcRatio}</div>
                        <div class="result-unit">W/C</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥Ø³Ù…Ù†Øª</div>
                        <div class="result-value">${r.cementContent}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù†</div>
                        <div class="result-value">${r.coarseAggWeight}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                    <div class="result-box">
                        <div class="result-label">Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù…</div>
                        <div class="result-value">${r.fineAggWeight}</div>
                        <div class="result-unit">kg/mÂ³</div>
                    </div>
                </div>
            `;
            
            document.getElementById('stepsContainer').innerHTML = stepsHTML;
            
            const finalHTML = `
                <div class="success">âœ“ ØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®Ù„Ø·Ø© Ø¨Ù†Ø¬Ø§Ø­ (BS EN 206)</div>
                <div class="table-section">
                    <h3>Ø§Ù„Ø£ÙˆØ²Ø§Ù† Ø§Ù„Ø¬Ø§ÙØ© (Dry Mix) - Ù„ÙƒÙ„ Ù…ØªØ± Ù…ÙƒØ¹Ø¨</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø¥Ø³Ù…Ù†Øª</td><td style="font-weight: bold;">${r.cementContent} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (Ø§Ù„Ø±Ù…Ù„)</td><td style="font-weight: bold;">${r.fineAggWeight} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (Ø§Ù„Ø­ØµÙ‰)</td><td style="font-weight: bold;">${r.coarseAggWeight} kg</td></tr>
                        <tr><td>Ø§Ù„Ù…Ø§Ø¡</td><td style="font-weight: bold;">${r.waterContent} kg</td></tr>
                        <tr style="background: #f0f0f0;"><td style="font-weight: bold;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</td><td style="font-weight: bold;">${r.cementContent + r.fineAggWeight + r.coarseAggWeight + r.waterContent} kg</td></tr>
                    </table>
                </div>
                
                <div class="table-section">
                    <h3>Ø§Ù„Ø£ÙˆØ²Ø§Ù† Ø§Ù„Ø±Ø·Ø¨Ø© (Wet Mix) - Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ¹Ù„ÙŠ</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø¥Ø³Ù…Ù†Øª</td><td style="font-weight: bold;">${r.cementContent} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ù†Ø§Ø¹Ù… (Ø§Ù„Ø±Ù…Ù„) Ø±Ø·Ø¨</td><td style="font-weight: bold;">${r.wetFineAgg} kg</td></tr>
                        <tr><td>Ø§Ù„Ø±ÙƒØ§Ù… Ø§Ù„Ø®Ø´Ù† (Ø§Ù„Ø­ØµÙ‰) Ø±Ø·Ø¨</td><td style="font-weight: bold;">${r.wetCoarseAgg} kg</td></tr>
                        <tr><td>Ø§Ù„Ù…Ø§Ø¡ (Ù…ØµØ­Ø­)</td><td style="font-weight: bold;">${r.adjustedWater} kg</td></tr>
                        <tr style="background: #e8f5e9;"><td style="font-weight: bold;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</td><td style="font-weight: bold;">${totalWetWeight} kg</td></tr>
                    </table>
                </div>

                <div class="table-section">
                    <h3>âœ“ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø³Ø¨ (Verification)</h3>
                    <table>
                        <tr><td>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬Ø§Ù</td><td style="font-weight: bold; color: var(--primary);">${totalDryWeight} kg</td></tr>
                        <tr><td>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø·Ø¨</td><td style="font-weight: bold; color: var(--primary);">${totalWetWeight} kg</td></tr>
                        <tr style="background: #e8f5e9;"><td style="font-weight: bold;">âœ“ Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ (Ø§Ù„Ø±Ø·ÙˆØ¨Ø©)</td><td style="font-weight: bold; color: #28a745;">${Math.round(totalWetWeight - totalDryWeight)} kg (${((totalWetWeight - totalDryWeight) / totalDryWeight * 100).toFixed(1)}%)</td></tr>
                        <tr><td colspan="2" style="font-size: 0.9em; color: var(--text-secondary); padding: 10px; background: #f0f0f0;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬Ø§Ù ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³Ø§ÙˆÙŠ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ 2000-2100 kg/mÂ³<br>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø·Ø¨ ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³Ø§ÙˆÙŠ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ 2050-2150 kg/mÂ³</td></tr>
                    </table>
                </div>
                
                <div class="summary-card">
                    <h3>Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                    <div class="summary-item">
                        <div>
                            <div class="result-label">Ù†Ø³Ø¨Ø© Ù…Ø§Ø¡/Ø¥Ø³Ù…Ù†Øª</div>
                            <strong>${r.wcRatio}</strong>
                        </div>
                        <div>
                            <div class="result-label">Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ø§Ù†Ø¶ØºØ§Ø·</div>
                            <strong>${r.fc} MPa</strong>
                        </div>
                    </div>
                    <div class="summary-item">
                        <div>
                            <div class="result-label">Ø§Ù„ØªÙ…Ø§Ø³Ùƒ</div>
                            <strong>${consistencyAr[r.consistency]}</strong>
                        </div>
                        <div>
                            <div class="result-label">Ø§Ù„Ù…Ø¹ÙŠØ§Ø±</div>
                            <strong>BS EN 206</strong>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('resultsContainer').innerHTML = finalHTML;
            
            document.getElementById('calculation').classList.add('active');
            document.getElementById('results').classList.add('active');
        }

        function loadExample() {
            if (currentMethod === 'aci') {
                // ACI Example
                document.getElementById('fc').value = '30';
                document.getElementById('slumpType').value = 'normal';
                document.getElementById('slump').value = '5';
                document.getElementById('maxAggSize').value = '19';
                document.getElementById('cementDensity').value = '3.15';
                document.getElementById('coarseAggDensity').value = '1650';
                document.getElementById('coarseAggSG').value = '2.65';
                document.getElementById('coarseAbsorption').value = '0.8';
                document.getElementById('coarseMoisture').value = '2.5';
                document.getElementById('fineAggSG').value = '2.63';
                document.getElementById('fineAbsorption').value = '1.2';
                document.getElementById('fineness').value = '2.75';
                document.getElementById('fineMoisture').value = '6';
                document.getElementById('exposure').value = 'none';
                document.getElementById('maxWC').value = '0.65';
                document.getElementById('airContent').value = '2';
            } else {
                // BS EN Example
                document.getElementById('fc').value = '28';
                document.getElementById('slumpType').value = 'normal';
                document.getElementById('slump').value = '6';
                document.getElementById('maxAggSize').value = '19';
                document.getElementById('cementDensity').value = '3.14';
                document.getElementById('coarseAggDensity').value = '1620';
                document.getElementById('coarseAggSG').value = '2.68';
                document.getElementById('coarseAbsorption').value = '0.6';
                document.getElementById('coarseMoisture').value = '2.8';
                document.getElementById('fineAggSG').value = '2.64';
                document.getElementById('fineAbsorption').value = '1.0';
                document.getElementById('fineness').value = '2.8';
                document.getElementById('fineMoisture').value = '5.5';
                document.getElementById('exposure').value = 'none';
                document.getElementById('maxWC').value = '0.60';
                document.getElementById('airContent').value = '1.5';
            }
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„
            calculateMix();
        }

        // ===== ADMIXTURES AND POZZOLANS HANDLER =====
        
        function toggleAdmixtures() {
            const div = document.getElementById('admixDiv');
            const select = document.getElementById('useAdmixtures');
            div.style.display = select.value === 'yes' ? 'block' : 'none';
        }

        function togglePozzolans() {
            const div = document.getElementById('pozzDiv');
            const select = document.getElementById('usePozzolans');
            div.style.display = select.value === 'yes' ? 'block' : 'none';
        }

        function updateAdmixInfo() {
            const type = document.getElementById('admixType').value;
            const hints = {
                'waterReducer': 'Ø¬Ø±Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©: 0.5-1.5% | ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø§Ø¡ 5-10% | ÙŠØ­Ø³Ù† Ø§Ù„Ø¯ÙŠÙ…ÙˆÙ…Ø©',
                'airEntraining': 'Ø¬Ø±Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©: 0.1-0.3% | Ø¥Ù†ØªØ§Ø¬ 4-8% Ù‡ÙˆØ§Ø¡ | Ù…Ù‡Ù… Ù„Ù„Ø¨Ø±Ø¯',
                'superplasticizer': 'Ø¬Ø±Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©: 0.5-2% | ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø§Ø¡ 10-20% | Ø§Ù†Ø³ÙŠØ§Ø¨ÙŠØ© Ø¹Ø§Ù„ÙŠØ©',
                'retarder': 'Ø¬Ø±Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©: 0.1-0.5% | ØªØ£Ø®ÙŠØ± 1-3 Ø³Ø§Ø¹Ø§Øª | Ù„Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¶Ø®Ù…Ø©',
                'accelerator': 'Ø¬Ø±Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©: 0.5-2% | ØªØ³Ø±ÙŠØ¹ 20-30% | Ù„Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¨Ø§Ø±Ø¯'
            };
            document.getElementById('admixHint').textContent = hints[type] || '';
        }

        function updatePozzInfo() {
            const type = document.getElementById('pozzType').value;
            const hints = {
                'flyAsh': 'Ø§Ù„Ù†Ø³Ø¨Ø©: 15-35% | Ø§Ù„ÙƒØ«Ø§ÙØ©: 2.3-2.4 | ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ§Ù„ØªÙƒÙ„ÙØ©',
                'slag': 'Ø§Ù„Ù†Ø³Ø¨Ø©: 30-70% | Ø§Ù„ÙƒØ«Ø§ÙØ©: 2.35-2.45 | Ù‚ÙˆØ© Ø¹Ø§Ù„ÙŠØ© Ø·ÙˆÙŠÙ„Ø© Ø§Ù„Ø£Ø¬Ù„',
                'silicaFume': 'Ø§Ù„Ù†Ø³Ø¨Ø©: 5-15% | Ø§Ù„ÙƒØ«Ø§ÙØ©: 2.2 | Ù‚ÙˆØ© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹ + Ù…Ù‚Ø§ÙˆÙ…Ø© Ø£Ù…Ù„Ø§Ø­',
                'pozzolan': 'Ø§Ù„Ù†Ø³Ø¨Ø©: 10-30% | Ø§Ù„ÙƒØ«Ø§ÙØ©: 2.3-2.5 | Ù…Ø§Ø¯Ø© Ø·Ø¨ÙŠØ¹ÙŠØ©ØŒ Ø§Ù†Ø³ÙŠØ§Ø¨ÙŠØ© + Ø¯ÙŠÙ…ÙˆÙ…Ø©'
            };
            document.getElementById('pozzHint').textContent = hints[type] || '';
        }

        // Initial setup
        document.getElementById('slumpType').addEventListener('change', (e) => {
            const values = { slim: 5, medium: 6, normal: 5 };
            if (e.target.value !== 'custom') {
                document.getElementById('slump').value = values[e.target.value] || 5;
            }
        });
    </script>
</body>
</html>
